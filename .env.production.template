# ============================================
# Vercel 本番環境用 環境変数テンプレート
# ============================================
# このファイルをコピーして .env.production.local を作成し、
# Vercel の環境変数設定画面に各値を設定してください

# ============================================
# Database (Supabase PostgreSQL)
# ============================================
# Supabase Project Settings → Database → Connection string から取得
DATABASE_URL="postgresql://postgres.[PROJECT-REF]:[PASSWORD]@aws-0-ap-northeast-1.pooler.supabase.com:6543/postgres?pgbouncer=true"
DIRECT_URL="postgresql://postgres:[PASSWORD]@db.[PROJECT-REF].supabase.co:5432/postgres"

# ============================================
# Supabase
# ============================================
# Supabase Project Settings → API から取得
NEXT_PUBLIC_SUPABASE_URL="https://[PROJECT-REF].supabase.co"
NEXT_PUBLIC_SUPABASE_ANON_KEY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
SUPABASE_SERVICE_ROLE_KEY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."

# ============================================
# Next.js / NextAuth
# ============================================
# Vercel デプロイ後の URL に変更
NEXTAUTH_URL="https://your-project.vercel.app"

# 強力なランダム文字列を生成（コマンド: openssl rand -base64 32）
NEXTAUTH_SECRET="your-strong-random-secret-here-min-32-characters"

# ============================================
# Cloudflare R2 Storage
# ============================================
# Cloudflare Dashboard → R2 → Manage R2 API Tokens から取得
R2_ACCOUNT_ID="your_cloudflare_account_id"
R2_ACCESS_KEY_ID="your_r2_access_key_id"
R2_SECRET_ACCESS_KEY="your_r2_secret_access_key"
R2_BUCKET_NAME="merry-share-media"
R2_PUBLIC_URL="https://your-bucket.r2.dev"

# ============================================
# Stripe Payment
# ============================================
# ⚠️ 本番環境では必ず live キーを使用してください
# Stripe Dashboard → Developers → API keys から取得
STRIPE_SECRET_KEY="sk_live_your_stripe_secret_key"
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY="pk_live_your_stripe_publishable_key"

# Stripe Dashboard → Developers → Webhooks から取得
# Webhook URL: https://your-project.vercel.app/api/stripe/webhook
STRIPE_WEBHOOK_SECRET="whsec_your_webhook_secret"

# ============================================
# Application
# ============================================
# Vercel デプロイ後の URL に変更
NEXT_PUBLIC_APP_URL="https://your-project.vercel.app"

# ============================================
# Production Environment
# ============================================
NODE_ENV="production"

# ============================================
# オプション: ビルド最適化
# ============================================
# Prisma の警告を抑制（必要に応じて）
# SKIP_ENV_VALIDATION="1"
